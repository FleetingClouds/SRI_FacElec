machine:
  node:
    version: 8.9.3

dependencies:
  cache_directories:
    # We will store packages in this directory
    - "vendor/apt"

  pre:
    - sudo dpkg --add-architecture i386
    - sudo apt-add-repository 'https://dl.winehq.org/wine-builds/ubuntu/'
    - wget https://dl.winehq.org/wine-builds/Release.key && sudo apt-key add Release.key
    - sudo apt-get update
    - sudo apt-get install -y winehq-stable

branches:
  only:
    - dev


compile:
    override:
        - npm run package-win

general:
    artifacts:
        - "electron-exe-win32-x64"
    
